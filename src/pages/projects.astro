---
import Layout from "../layouts/Layout.astro"
import CautionBox from "../components/CautionBox.astro"
import ProjectTabs from "../components/ProjectTabs.astro"
---

<Layout title="Paulina Castillo">

	<!-- <h2 class="mt-10 mb-4">Presentation video</h2> -->
	<!-- Poner el aviso de poner subtitulos -->
	<!-- <CautionBox  > Please set the subtitles in English.</CautionBox>
 -->
	<!-- Si quieres mantener el video para más abajo, descomenta y reubícalo -->
<!--
<iframe
  class="rounded-lg shadow-lg w-full h-64 md:h-96 mt-8"
  src="https://www.youtube.com/embed/e_PV7Ig36_E"
  title="YouTube video player"
  allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
  allowfullscreen>
</iframe>
-->


<section class="relative overflow-hidden rounded-2xl
  bg-gradient-to-br from-zinc-800 via-zinc-900 to-black
  dark:from-zinc-800 dark:via-zinc-900 dark:to-black
  shadow-lg p-6 md:p-10 mt-5 border border-zinc-800/60">

  <div class="max-w-3xl">
    <h1 class="text-2xl md:text-3xl font-semibold
       text-zinc-100 tracking-tight">
      The Beauty of Less: Optimization and Machine Learning in Network Design
    </h1>

    <p class="mt-4 leading-relaxed text-[1.05rem] text-zinc-300">
      You open your eyes peacefully at 7:30 on a Saturday morning, until you realize it’s not Saturday, and it’s definitely not 7:30. You’re late for work. You rush to the shower only to find… no water. Not just in your apartment, the entire neighborhood’s dry. Somewhere, a single broken pipe has thrown the whole system off balance.
    </p>
    <p class="mt-4 leading-relaxed text-[1.05rem] text-zinc-300">
      Now you’re wondering if there’s a way to get your water back, just like before. If you think about it, the neighborhood isn’t just streets and pipes; it’s a graph. Every house is a node, every pipe an edge, and the water is the flow that ties them all together. When one edge fails, the entire network must adapt to keep the balance.
    </p>
    <p class="mt-4 leading-relaxed text-[1.05rem] text-zinc-300">
      That’s mostly the question we set out to solve in this research: how to redesign a network based on its flow performance, the amount of water that actually reaches each house. By asking that question, we built a model capable of redesigning supply networks using only 66% of the original pipes while preserving 90% of their flow efficiency.
    </p>
    <p class="mt-4 leading-relaxed text-[1.05rem] text-zinc-200">
      How did we do it?
    </p>

    <!-- Mini-metrics -->
<div class="mt-6 grid grid-cols-2 sm:grid-cols-3 gap-3">
  <div class="rounded-xl border border-zinc-700 bg-zinc-800/60 backdrop-blur px-4 py-3">
    <div class="text-sm text-zinc-400">Network reduction</div>
    <div class="text-lg font-semibold text-zinc-100">−34% structure</div>
    <div class="text-xs text-zinc-500">66% of original arcs kept</div>
  </div>

  <div class="rounded-xl border border-zinc-700 bg-zinc-800/60 backdrop-blur px-4 py-3">
    <div class="text-sm text-zinc-400">Flow efficiency</div>
    <div class="text-lg font-semibold text-zinc-100">95% preserved</div>
    <div class="text-xs text-zinc-500">under varying demand</div>
  </div>

  <div class="rounded-xl border border-zinc-700 bg-zinc-800/60 backdrop-blur px-4 py-3">
    <div class="text-sm text-zinc-400">Computational scale</div>
    <div class="text-lg font-semibold text-zinc-100">&gt;10⁴⁰ solutions</div>
    <div class="text-xs text-zinc-500">explored with ~90% CPU load</div>
  </div>
</div>


    <!-- Actions -->
    <!-- CTA Buttons: big & clickable -->
<div class="mt-8 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
  <!-- Motivación -->
  <a href="#motivacion"
     class="group relative flex items-center justify-center rounded-2xl
            px-6 py-4 text-base md:text-lg font-semibold
            bg-amber-400 text-zinc-900 shadow-lg
            hover:shadow-amber-400/40 hover:-translate-y-0.5 active:translate-y-0
            transition-all ring-0 focus:outline-none focus:ring-4 focus:ring-amber-400/40">
    <span class="mr-2">💡</span> Motivación
  </a>

  <!-- ¿Dónde nació esto? -->
  <a href="#origen"
     class="group relative flex items-center justify-center rounded-2xl
            px-6 py-4 text-base md:text-lg font-semibold
            bg-zinc-100 text-zinc-900 shadow-lg
            hover:bg-white hover:shadow-white/30 hover:-translate-y-0.5 active:translate-y-0
            transition-all ring-0 focus:outline-none focus:ring-4 focus:ring-white/30">
    <span class="mr-2">📍</span> ¿Dónde nació esto?
  </a>

  <!-- Modelo matemático -->
  <a href="#modelo-matematico"
     class="group relative flex items-center justify-center rounded-2xl
            px-6 py-4 text-base md:text-lg font-semibold
            bg-zinc-800 text-zinc-100 border border-zinc-700 shadow-lg
            hover:bg-zinc-700 hover:shadow-zinc-700/30 hover:-translate-y-0.5 active:translate-y-0
            transition-all focus:outline-none focus:ring-4 focus:ring-zinc-700/40">
    <span class="mr-2">🧮</span> Modelo matemático
  </a>

  <!-- ¿Cuál es la magia detrás de esto? -->
  <a href="#magia"
     class="group relative flex items-center justify-center rounded-2xl
            px-6 py-4 text-base md:text-lg font-semibold
            bg-emerald-400 text-zinc-900 shadow-lg
            hover:shadow-emerald-400/40 hover:-translate-y-0.5 active:translate-y-0
            transition-all focus:outline-none focus:ring-4 focus:ring-emerald-400/40">
    <span class="mr-2">✨</span> ¿Cuál es la magia detrás de esto?
  </a>

  <!-- Beyond the compute (frase cool) -->
  <a href="#beyond-compute"
     class="group relative flex items-center justify-center rounded-2xl
            px-6 py-4 text-base md:text-lg font-semibold
            bg-fuchsia-400 text-zinc-900 shadow-lg
            hover:shadow-fuchsia-400/40 hover:-translate-y-0.5 active:translate-y-0
            transition-all focus:outline-none focus:ring-4 focus:ring-fuchsia-400/40">
    <span class="mr-2">🚀</span> Beyond the compute: where the fan screams
  </a>

  <!-- Resultados: el final de la travesía -->
  <a href="#resultados"
     class="group relative flex items-center justify-center rounded-2xl
            px-6 py-4 text-base md:text-lg font-semibold
            bg-sky-400 text-zinc-900 shadow-lg
            hover:shadow-sky-400/40 hover:-translate-y-0.5 active:translate-y-0
            transition-all focus:outline-none focus:ring-4 focus:ring-sky-400/40">
    <span class="mr-2">🏁</span> Resultados: el final de la travesía
  </a>
</div>

	
  </div>

  <!-- Decorative network glows (neutral, no blue) -->
  <div class="pointer-events-none absolute -right-16 -bottom-16 h-64 w-64 rounded-full
              bg-amber-500/10 blur-3xl"></div>
  <div class="pointer-events-none absolute -left-20 -top-20 h-72 w-72 rounded-full
              bg-rose-500/10 blur-3xl"></div>
</section>


<section class="relative overflow-hidden rounded-2xl
  bg-gradient-to-br from-zinc-800 via-zinc-900 to-black
  shadow-lg p-6 md:p-10 mt-5 border border-zinc-800/60">

  <!-- GRID: left content + right vertical pills -->
  <div class="grid grid-cols-1 lg:grid-cols-12 gap-8">
    <!-- LEFT: project content -->
    <div class="lg:col-span-9">
      <h2 class="text-2xl md:text-3xl font-semibold text-zinc-100 tracking-tight">
        Project — Page A
      </h2>

      <!-- PANELS (only one visible at a time) -->
      <div id="panels" class="mt-4 space-y-6">
        <!-- A: Abstract -->
        <article id="panel-a" role="tabpanel" aria-labelledby="tab-a">
          <p class="leading-relaxed text-[1.05rem] text-zinc-300">
            You open your eyes peacefully… the neighborhood is dry. Think of it as a graph:
            houses are nodes, pipes are edges, water is flow. Our goal: fewer pipes, same flow.
          </p>
          <!-- bottom mini-cards row -->
          <div class="mt-6 grid grid-cols-3 gap-3">
            <div class="aspect-square rounded-xl border border-zinc-700 bg-zinc-800/60"></div>
            <div class="aspect-square rounded-xl border border-zinc-700 bg-zinc-800/60"></div>
            <div class="aspect-square rounded-xl border border-zinc-700 bg-zinc-800/60"></div>
          </div>
        </article>

        <!-- B: Motivation -->
        <article id="panel-b" role="tabpanel" aria-labelledby="tab-b" class="hidden">
          <p class="leading-relaxed text-[1.05rem] text-zinc-300">
            Cities change daily: closures, variable demand, tiny budgets. We aimed for less structure
            with the same service — preserve behavior, not just the blueprint.
          </p>
          <div class="mt-6 grid grid-cols-3 gap-3">
            <div class="aspect-square rounded-xl border border-zinc-700 bg-zinc-800/60"></div>
            <div class="aspect-square rounded-xl border border-zinc-700 bg-zinc-800/60"></div>
            <div class="aspect-square rounded-xl border border-zinc-700 bg-zinc-800/60"></div>
          </div>
        </article>

        <!-- C: Math model -->
        <article id="panel-c" role="tabpanel" aria-labelledby="tab-c" class="hidden">
          <pre class="rounded-xl bg-zinc-800/60 p-4 text-zinc-200 overflow-auto text-sm leading-6">
Objective: minimize total cost of flow
Subject to:
 • Flow balance per node: inflow − outflow = demand ± deviation
 • Capacity & non-negativity
 • Penalization for under/over supply
          </pre>
          <div class="mt-6 grid grid-cols-3 gap-3">
            <div class="aspect-square rounded-xl border border-zinc-700 bg-zinc-800/60"></div>
            <div class="aspect-square rounded-xl border border-zinc-700 bg-zinc-800/60"></div>
            <div class="aspect-square rounded-xl border border-zinc-700 bg-zinc-800/60"></div>
          </div>
        </article>

        <!-- D: Magic -->
        <article id="panel-d" role="tabpanel" aria-labelledby="tab-d" class="hidden">
          <p class="leading-relaxed text-[1.05rem] text-zinc-300">
            Policy Gradient explores neighbors (±1 edge), tests under scenarios, and learns which
            rewires preserve flow best — staying within the arc limit.
          </p>
          <div class="mt-6 grid grid-cols-3 gap-3">
            <div class="aspect-square rounded-xl border border-zinc-700 bg-zinc-800/60"></div>
            <div class="aspect-square rounded-xl border border-zinc-700 bg-zinc-800/60"></div>
            <div class="aspect-square rounded-xl border border-zinc-700 bg-zinc-800/60"></div>
          </div>
        </article>

        <!-- E: Beyond compute -->
        <article id="panel-e" role="tabpanel" aria-labelledby="tab-e" class="hidden">
          <p class="leading-relaxed text-[1.05rem] text-zinc-300">
            &gt;10⁴⁰ possible networks — impossible to test all. CPU ~90% for hours and ~12 GB RAM.
            We survived with batching, parallel evaluation, and early stopping.
          </p>
          <div class="mt-6 grid grid-cols-3 gap-3">
            <div class="aspect-square rounded-xl border border-zinc-700 bg-zinc-800/60"></div>
            <div class="aspect-square rounded-xl border border-zinc-700 bg-zinc-800/60"></div>
            <div class="aspect-square rounded-xl border border-zinc-700 bg-zinc-800/60"></div>
          </div>
        </article>

        <!-- F: Results -->
        <article id="panel-f" role="tabpanel" aria-labelledby="tab-f" class="hidden">
          <ul class="text-zinc-300 list-disc pl-6 leading-relaxed">
            <li>Network reduction: ~34% (66% arcs kept)</li>
            <li>Flow preserved: ~95% under variable demand</li>
            <li>Speed-ups: 1.8×–2.5×</li>
          </ul>
          <div class="mt-6 grid grid-cols-3 gap-3">
            <div class="aspect-square rounded-xl border border-zinc-700 bg-zinc-800/60"></div>
            <div class="aspect-square rounded-xl border border-zinc-700 bg-zinc-800/60"></div>
            <div class="aspect-square rounded-xl border border-zinc-700 bg-zinc-800/60"></div>
          </div>
        </article>
      </div>
    </div>

    <!-- RIGHT: vertical pill menu (tabs) -->
    <aside class="lg:col-span-3">
      <nav aria-label="Project sections"
           class="sticky top-24 rounded-2xl border border-zinc-700 bg-zinc-900/70 backdrop-blur p-3">
        <ul id="tablist" role="tablist" aria-orientation="vertical" class="space-y-2">
          <li><button id="tab-a" role="tab" aria-controls="panel-a" aria-selected="true"
              class="w-full rounded-full px-4 py-3 font-medium
                     bg-amber-400 text-zinc-900 shadow hover:shadow-amber-400/40 focus:outline-none focus:ring-4 focus:ring-amber-400/40">
            Abstract
          </button></li>
          <li><button id="tab-b" role="tab" aria-controls="panel-b"
              class="w-full rounded-full px-4 py-3 text-zinc-200 bg-zinc-800 hover:bg-zinc-700 border border-zinc-700">
            Motivation — where did this start?
          </button></li>
          <li><button id="tab-c" role="tab" aria-controls="panel-c"
              class="w-full rounded-full px-4 py-3 text-zinc-200 bg-zinc-800 hover:bg-zinc-700 border border-zinc-700">
            Math model
          </button></li>
          <li><button id="tab-d" role="tab" aria-controls="panel-d"
              class="w-full rounded-full px-4 py-3 text-zinc-200 bg-zinc-800 hover:bg-zinc-700 border border-zinc-700">
            What’s the “magic”?
          </button></li>
          <li><button id="tab-e" role="tab" aria-controls="panel-e"
              class="w-full rounded-full px-4 py-3 text-zinc-200 bg-zinc-800 hover:bg-zinc-700 border border-zinc-700">
            Beyond the compute
          </button></li>
          <li><button id="tab-f" role="tab" aria-controls="panel-f"
              class="w-full rounded-full px-4 py-3 text-zinc-200 bg-zinc-800 hover:bg-zinc-700 border border-zinc-700">
            Results — end of the journey
          </button></li>
        </ul>
      </nav>
    </aside>
  </div>

  <!-- tiny tabs script -->
  <script>
    (function () {
      const tabs = Array.from(document.querySelectorAll('#tablist [role="tab"]'));
      const panels = Array.from(document.querySelectorAll('#panels [role="tabpanel"]'));

      function activate(tab) {
        // reset styles and hide panels
        tabs.forEach(t => {
          t.setAttribute('aria-selected', 'false');
          t.classList.remove('bg-amber-400','text-zinc-900','shadow','hover:shadow-amber-400/40','focus:ring-amber-400/40');
          t.classList.add('text-zinc-200','bg-zinc-800','border','border-zinc-700');
        });
        panels.forEach(p => p.classList.add('hidden'));

        // set active
        tab.setAttribute('aria-selected', 'true');
        tab.classList.remove('text-zinc-200','bg-zinc-800','border','border-zinc-700');
        tab.classList.add('bg-amber-400','text-zinc-900','shadow','hover:shadow-amber-400/40');

        const id = tab.getAttribute('aria-controls');
        document.getElementById(id).classList.remove('hidden');

        // scroll to content on mobile
        if (window.innerWidth < 1024) {
          document.getElementById('panels').scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
      }

      tabs.forEach(t => t.addEventListener('click', () => activate(t)));

      // optional keyboard support
      document.getElementById('tablist').addEventListener('keydown', (e) => {
        const i = tabs.findIndex(t => t.getAttribute('aria-selected') === 'true');
        if (e.key === 'ArrowDown' || e.key === 'ArrowRight') { e.preventDefault(); activate(tabs[(i+1)%tabs.length]); tabs[(i+1)%tabs.length].focus(); }
        if (e.key === 'ArrowUp' || e.key === 'ArrowLeft')   { e.preventDefault(); activate(tabs[(i-1+tabs.length)%tabs.length]); tabs[(i-1+tabs.length)%tabs.length].focus(); }
      });
    })();
  </script>
</section>








</Layout>
